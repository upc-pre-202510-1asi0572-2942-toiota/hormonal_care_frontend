<div class="medical-tests-container">
  <div class="tests-content">
    <div class="tests-grid" *ngIf="medicalTests.length > 0; else noTests">
      <div class="test-card" *ngFor="let test of medicalTests">
        <div class="test-header">
          <div class="test-info">
            <h4>{{ test.testType }}</h4>
            <p class="test-date">{{ test.date | date:'dd/MM/yyyy' }}</p>
          </div>
          <button class="download-btn" (click)="onDownload(test)" title="Download Report">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 15V3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
        <div class="test-content">
          <div class="test-result">
            <span class="result-label">Result:</span>
            <span class="result-value" [class]="getResultClass(test.result)">{{ test.result }}</span>
          </div>
        </div>
      </div>
    </div>

    <ng-template #noTests>
      <div class="no-tests">
        <p class="no-data">No medical tests have been recorded for this patient.</p>
      </div>
    </ng-template>
  </div>
</div>

